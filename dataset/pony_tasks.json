{
  "metadata": {
    "version": "1.0",
    "language": "Pony",
    "total_tasks": 15,
    "categories": ["basic_syntax", "reference_capabilities", "actor_concurrency", "complex_systems"]
  },
  "tasks": [
    {
      "id": "basic_001",
      "category": "basic_syntax",
      "difficulty": "easy",
      "title": "Factorial Function",
      "description": "Write a function that computes the factorial of a non-negative integer recursively.",
      "prompt": "Implement a recursive factorial function in Pony that takes a U64 parameter and returns U64.",
      "reference_solution": "",
      "test_cases": [
        {"input": "0", "expected": "1"},
        {"input": "1", "expected": "1"},
        {"input": "5", "expected": "120"},
        {"input": "10", "expected": "3628800"}
      ],
      "tags": ["recursion", "arithmetic"]
    },
    {
      "id": "basic_002",
      "category": "basic_syntax",
      "difficulty": "easy",
      "title": "Array Sum",
      "description": "Write a function that sums all elements in an array of integers.",
      "prompt": "Create a Pony function that takes an Array[U64] val and returns the sum of all elements as U64.",
      "reference_solution": "",
      "test_cases": [
        {"input": "[1, 2, 3, 4, 5]", "expected": "15"},
        {"input": "[]", "expected": "0"},
        {"input": "[100]", "expected": "100"}
      ],
      "tags": ["arrays", "iteration"]
    },
    {
      "id": "basic_003",
      "category": "basic_syntax",
      "difficulty": "medium",
      "title": "Fibonacci Sequence",
      "description": "Implement a function to compute the nth Fibonacci number.",
      "prompt": "Write a Pony function that computes the nth Fibonacci number (0-indexed) using iteration.",
      "reference_solution": "",
      "test_cases": [
        {"input": "0", "expected": "0"},
        {"input": "1", "expected": "1"},
        {"input": "10", "expected": "55"},
        {"input": "15", "expected": "610"}
      ],
      "tags": ["iteration", "arithmetic", "algorithms"]
    },
    {
      "id": "cap_001",
      "category": "reference_capabilities",
      "difficulty": "medium",
      "title": "Immutable String Builder",
      "description": "Create a class that builds strings immutably using val capability.",
      "prompt": "Implement a StringBuffer class in Pony that stores strings with val capability and provides a method to append strings, returning a new StringBuffer.",
      "reference_solution": "",
      "test_cases": [
      ],
      "tags": ["capabilities", "val", "immutability"]
    },
    {
      "id": "cap_002",
      "category": "reference_capabilities",
      "difficulty": "hard",
      "title": "Isolated Counter",
      "description": "Create a counter class with iso capability that can be safely sent between actors.",
      "prompt": "Implement a Counter class with iso capability that maintains an internal count and provides increment and get methods.",
      "reference_solution": "",
      "test_cases": [
        {"input": "create().increment().get()", "expected": "1"},
        {"input": "create().increment().increment().get()", "expected": "2"}
      ],
      "tags": ["capabilities", "iso", "mutable_state"]
    },
    {
      "id": "cap_003",
      "category": "reference_capabilities",
      "difficulty": "hard",
      "title": "Safe Array Wrapper",
      "description": "Create a wrapper around Array that enforces read-only access using box capability.",
      "prompt": "Implement a ReadOnlyArray class that wraps an Array[U64] and only allows reading values, not modification.",
      "reference_solution": "",
      "test_cases": [
        {"input": "create([1,2,3]).apply(0)", "expected": "1"},
        {"input": "create([5,10,15]).size()", "expected": "3"}
      ],
      "tags": ["capabilities", "box", "safety"]
    },
    {
      "id": "actor_001",
      "category": "actor_concurrency",
      "difficulty": "medium",
      "title": "Simple Counter Actor",
      "description": "Create an actor that maintains a counter and responds to increment messages.",
      "prompt": "Implement a CounterActor in Pony that can receive increment and get_value messages.",
      "reference_solution": "",
      "test_cases": [
        {"description": "Actor increments correctly"},
        {"description": "Actor responds with current value"}
      ],
      "tags": ["actors", "behaviors", "message_passing"]
    },
    {
      "id": "actor_002",
      "category": "actor_concurrency",
      "difficulty": "hard",
      "title": "Echo Actor",
      "description": "Create an actor that echoes back received messages to a callback.",
      "prompt": "Implement an EchoActor that receives String messages and sends them back to a provided callback actor.",
      "reference_solution": "",
      "test_cases": [
        {"description": "Echoes message correctly"},
        {"description": "Handles multiple messages"}
      ],
      "tags": ["actors", "callbacks", "message_passing"]
    },
    {
      "id": "actor_003",
      "category": "actor_concurrency",
      "difficulty": "hard",
      "title": "Worker Pool",
      "description": "Create a pool of worker actors that process tasks concurrently.",
      "prompt": "Implement a WorkerPool actor that manages multiple worker actors and distributes tasks among them.",
      "reference_solution": "",
      "test_cases": [
        {"description": "Distributes tasks across workers"},
        {"description": "Round-robin distribution"}
      ],
      "tags": ["actors", "concurrency", "worker_pool"]
    },
    {
      "id": "complex_001",
      "category": "complex_systems",
      "difficulty": "hard",
      "title": "Producer-Consumer",
      "description": "Implement a producer-consumer pattern with actors and safe message passing.",
      "prompt": "Create Producer and Consumer actors that safely exchange data through a Buffer actor.",
      "reference_solution": "",
      "test_cases": [
        {"description": "Producer sends to buffer"},
        {"description": "Consumer receives from buffer"}
      ],
      "tags": ["actors", "patterns", "communication"]
    },
    {
      "id": "complex_002",
      "category": "complex_systems",
      "difficulty": "expert",
      "title": "Bank Account System",
      "description": "Implement a multi-actor banking system with thread-safe operations.",
      "prompt": "Create Account actors that can safely transfer money between each other using Pony's capability system.",
      "reference_solution": "",
      "test_cases": [
        {"description": "Deposit increases balance"},
        {"description": "Withdraw decreases balance if sufficient funds"},
        {"description": "Transfer moves money safely between accounts"}
      ],
      "tags": ["actors", "state_management", "transactions"]
    },
    {
      "id": "complex_003",
      "category": "complex_systems",
      "difficulty": "expert",
      "title": "Distributed Counter",
      "description": "Implement a distributed counter using multiple actors with aggregation.",
      "prompt": "Create a system where multiple CounterNode actors maintain local counts and a Coordinator actor aggregates them.",
      "reference_solution": "",
      "test_cases": [
        {"description": "Aggregates counts from multiple nodes"},
        {"description": "Waits for all responses"}
      ],
      "tags": ["actors", "distributed", "aggregation"]
    }
  ]
}
